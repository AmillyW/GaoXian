\chapter{变分法}
\problem{给定\(f(t)\)的泛函\[S[f]=-\int \dd t\,\me^{-V(f(t))} \sqrt{1-(f'(t))^2}\]其中\(V\)是\(f\)的任意函数. 求\(S[f]\)取极值时, \(f(x)\)的欧拉-拉格朗日方程.}
\begin{solution}
    记 $L = \me^{-V(f(t))} \sqrt{1-(f'(t))^2}$, 则
    \[
        \frac{\pp L}{\pp f} = V \frac{\dd V}{\dd f} \me^{-V(f(t))} \sqrt{1-(f'(t))^2}, \qquad 
        \frac{\pp L}{\pp f'} = \me^{-V(f(t))} \frac{f'(t)}{\sqrt{1-(f'(t))^2}}
    \]
    \[
    \begin{aligned}
        \delta S &= \int \dd t\,\left(V \frac{\dd V}{\dd f} \me^{-V(f(t))} \sqrt{1-(f'(t))^2} \delta f + \me^{-V(f(t))} \frac{f'(t)}{\sqrt{1-(f'(t))^2}} \delta f'\right)\\
        &\simeq \int \dd t\,\left(V \frac{\dd V}{\dd f} \me^{-V(f(t))} \sqrt{1-(f'(t))^2} - \frac{\dd}{\dd t}\left(\me^{-V(f(t))} \frac{f'(t)}{\sqrt{1-(f'(t))^2}}\right)\right) \delta f
    \end{aligned}
    \]
    因此, Euler-Lagrange 方程为
    \[
        - \frac{\delta S}{\delta f} = - V \frac{\dd V}{\dd f} f' \me^{-V(f(t))} \frac{f'}{\sqrt{1-f'^2}} + \me^{-V(f(t))} \frac{f'' + (1-f')f'^2}{(1 - f'^2)^{3/2}} - V \frac{\dd V}{\dd f} \me^{- V(f(t))} \sqrt{1-f'^2} = 0
    \]
\end{solution}


\problem{给定\(f(t)\)的泛函\(S[f] = \int \dd t\,L\), 其中\(L = (f'(t))^2 + f(t) f'(t)+ \frac{1}{2} f(t) f''(t)\).\\[-0.8em]
    \begin{enumerate}[label=(\arabic*)]
        \item 求一阶泛函导数\(\frac{\delta S}{\delta f}\);
        \item 将\(L\)改写成\(L = \tilde{L} + \frac{\dd F}{\dd t}\)的形式, 要求\(\tilde{L}\)中不包含\(f''(t)\), 求\(\tilde{L}\)和\(F\);
        \item 求泛函\(\tilde{S}[f] = \int \dd t\,\tilde{L}\)的一阶泛函导数\(\frac{\delta \tilde{S}}{\delta f}\), 并比较其和\(\frac{\delta S}{\delta f}\)的异同.
    \end{enumerate}}
\begin{solution}
    \begin{enumerate}[label=(\arabic*)]
        \item     \[
            \begin{aligned}
                \delta S = \int \dd t\,\delta L &= \int \dd t \left(\left(f' + \frac{1}{2}f''\right)\delta f + \left(2f' + f\right)\delta f' + \frac{1}{2}f \delta f''\right)\\
                &\simeq \int \dd t \left(f' + \frac{1}{2}f'' - \frac{\dd}{\dd t}\left(2f'+f\right)+\frac{\dd^2}{\dd t^2}\left(\frac{1}{2}f\right)\right) \delta f \\
                \frac{\delta S}{\delta f} &= - f''
            \end{aligned}
            \]
        \item 假设\(F = \frac{1}{2}f f'\), 则\(\frac{\dd F}{\dd t} = \frac{1}{2}f'^2 + \frac{1}{2} f f''\), \(\tilde{L} = f f' + \frac{1}{2}f'^2\)满足题意.
        \item \[
        \begin{aligned}
            \delta \tilde{S}[f] &= \int \dd t \delta \tilde{L} = \int \dd t \left(f' \delta f + (f + f') \delta f'\right) \\
            &\simeq \int \dd t \left(f' - \frac{\dd}{\dd t} (f + f')\right)\delta f \\
            \frac{\delta \tilde{S}}{\delta f} &= - f''
        \end{aligned}
        \]
        注意到\(\frac{\delta \tilde{S}}{\delta f} = \frac{\delta S}{\delta f}\). 
    \end{enumerate}
\end{solution}


\problem{给定两个函数\(n(t)\)和\(a(t)\)的泛函\(S[n,a] = \int_{t_1}^{t_2} \dd t\,na^3\left(A(n) + 3 B(n) \frac{a'^2}{n^2 a^2}\right)\), 其中\(A, B\)是\(n(t)\)的任意函数. 求泛函\(S[n,a]\)取极值时, \(n(t)\)和\(a(t)\)的欧拉-拉格朗日方程.}
\begin{solution}
    \[
        \begin{aligned}
            \delta S & = \int \dd t \left(a^3\left(A(n) + 3B(n) \frac{a'^2}{n^2 a^2}\right) + n a^3 \left(\frac{\dd A}{\dd n} + 3\frac{\dd B}{\dd n}\frac{a'^2}{n^2 a^2} - \frac{3}{2}B(n)\frac{a'^2}{n^3 a^2}\right)\right) \delta n\\
            -\frac{\delta S}{\delta n} & = -a^3 A - 3B \frac{a a'^2}{n^2} - n a^3 \frac{\dd A}{\dd n} - 3n \frac{\dd B}{\dd n} \frac{a a'^2}{n^2} + \frac{3}{2}nB\frac{a a'^2}{n^3} = 0
        \end{aligned}
    \]
    \[
        \begin{aligned}
            \delta S & = \int \dd t \left(6 B \frac{a a'}{n} \delta a' + \left(3 n A a^2 + 3 B \frac{a'^2}{n}\right)\delta a\right) \\
            & \simeq \int \dd t \left(- \frac{\dd}{\dd t}\left(6 B \frac{a a'}{n}\right) + 3 n A a^2 + 3 B \frac{a'^2}{n}\right) \delta a \\
            - \frac{\delta S}{\delta a} & = \frac{\dd}{\dd t}\left(6 B \frac{a a'}{n}\right) - 3 n A a^2 - 3 B \frac{a'^2}{n} = 0
        \end{aligned}
    \]
\end{solution}

\problem{给定二元函数\(f(t,x)\)的泛函\(S[f]=\iint \dd t \dd x \frac12 \left[
    \left(\frac{\pp f(t,x)}{\pp t}\right)^2 - \left(\frac{\pp f(t,x)}{\pp x}\right)^2 -m^2f^2(t,x)
\right]\)，其中\(m\)是常数。求泛函\(S[f]\)取极值时\(f(t,x)\)的欧拉-拉格朗日方程。}
\begin{solution}
    泛函\(S[f]\)的Lagrange函数为\(L(t,x,f,f_t,f_x) = \frac12(f_t^2-f_x^2-m^2f^2)\)，则
    \[
    \begin{aligned}
        \delta S & = \iint \dd t \dd x \delta L \\
                 & \simeq \iint \dd t \dd x \left[
                    \frac{\pp L}{\pp f} - \frac{\pp}{\pp t}\left( \frac{\pp L}{\pp f_t} \right) - \frac{\pp}{\pp x}\left( \frac{\pp L}{\pp f_x} \right)
                    \right] \\
                 \right] \\
                 & = \iint \dd t \dd x  
                 (-m^2f - f_{tt} + f_{xx})
                 \delta f
    \end{aligned}
    \]
    取极值有\(-\frac{\pp S}{\pp f}=0\)，即\(f_{tt} - f_{xx} + -m^2f = 0\)
\end{solution}

\problem{考虑一条不可拉伸、质量均匀的柔软细绳，长为\(l\)，质量为\(m\)。细绳两端点悬挂于相同高度，水平距离为\(a\)(\(a<l\)。
    \begin{enumerate}[label=(\arabic*)]
        \item 选择合适的坐标，求细绳总的重力势能\(V\)作为细绳形状的泛函；
        \item 求细绳重力势能取极值时，细绳形状所满足的欧拉-拉格朗日方程。
    \end{enumerate}}
\begin{solution}
    待施工
\end{solution}

