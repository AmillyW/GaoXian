\chapter{变分法}
\problem{给定\(f(t)\)的泛函\[S[f]=-\int \dd t\,\me^{-V(f(t))} \sqrt{1-(f'(t))^2}\]其中\(V\)是\(f\)的任意函数. 求\(S[f]\)取极值时, \(f(x)\)的欧拉-拉格朗日方程.}
\begin{solution}
    记 $L = \me^{-V(f(t))} \sqrt{1-(f'(t))^2}$, 则
    \[
        \frac{\pp L}{\pp f} = V \frac{\dd V}{\dd f} \me^{-V(f(t))} \sqrt{1-(f'(t))^2}, \qquad 
        \frac{\pp L}{\pp f'} = \me^{-V(f(t))} \frac{f'(t)}{\sqrt{1-(f'(t))^2}}
    \]
    \[
    \begin{aligned}
        \delta S &= \int \dd t\,\left(V \frac{\dd V}{\dd f} \me^{-V(f(t))} \sqrt{1-(f'(t))^2} \delta f + \me^{-V(f(t))} \frac{f'(t)}{\sqrt{1-(f'(t))^2}} \delta f'\right)\\
        &\simeq \int \dd t\,\left(V \frac{\dd V}{\dd f} \me^{-V(f(t))} \sqrt{1-(f'(t))^2} - \frac{\dd}{\dd t}\left(\me^{-V(f(t))} \frac{f'(t)}{\sqrt{1-(f'(t))^2}}\right)\right) \delta f
    \end{aligned}
    \]
    因此, Euler-Lagrange 方程为
    \[
        - \frac{\delta S}{\delta f} = - V \frac{\dd V}{\dd f} f' \me^{-V(f(t))} \frac{f'}{\sqrt{1-f'^2}} + \me^{-V(f(t))} \frac{f'' + (1-f')f'^2}{(1 - f'^2)^{3/2}} - V \frac{\dd V}{\dd f} \me^{- V(f(t))} \sqrt{1-f'^2} = 0
    \]
\end{solution}
% updated by: AmillyW
% date: 2024/10/22

\problem{给定\(f(t)\)的泛函\(S[f] = \int \dd t\,L\), 其中\(L = (f'(t))^2 + f(t) f'(t)+ \frac{1}{2} f(t) f''(t)\).\\[-0.8em]
    \begin{enumerate}[label=(\arabic*)]
        \item 求一阶泛函导数\(\frac{\delta S}{\delta f}\);
        \item 将\(L\)改写成\(L = \tilde{L} + \frac{\dd F}{\dd t}\)的形式, 要求\(\tilde{L}\)中不包含\(f''(t)\), 求\(\tilde{L}\)和\(F\);
        \item 求泛函\(\tilde{S}[f] = \int \dd t\,\tilde{L}\)的一阶泛函导数\(\frac{\delta \tilde{S}}{\delta f}\), 并比较其和\(\frac{\delta S}{\delta f}\)的异同.
    \end{enumerate}}
\begin{solution}
    \begin{enumerate}[label=(\arabic*)]
        \item     \[
            \begin{aligned}
                \delta S = \int \dd t\,\delta L &= \int \dd t \left(\left(f' + \frac{1}{2}f''\right)\delta f + \left(2f' + f\right)\delta f' + \frac{1}{2}f \delta f''\right)\\
                &\simeq \int \dd t \left(f' + \frac{1}{2}f'' - \frac{\dd}{\dd t}\left(2f'+f\right)+\frac{\dd^2}{\dd t^2}\left(\frac{1}{2}f\right)\right) \delta f \\
                \frac{\delta S}{\delta f} &= - f''
            \end{aligned}
            \]
        \item 假设\(F = \frac{1}{2}f f'\), 则\(\frac{\dd F}{\dd t} = \frac{1}{2}f'^2 + \frac{1}{2} f f''\), \(\tilde{L} = f f' + \frac{1}{2}f'^2\)满足题意.
        \item \[
        \begin{aligned}
            \delta \tilde{S}[f] &= \int \dd t \delta \tilde{L} = \int \dd t \left(f' \delta f + (f + f') \delta f'\right) \\
            &\simeq \int \dd t \left(f' - \frac{\dd}{\dd t} (f + f')\right)\delta f \\
            \frac{\delta \tilde{S}}{\delta f} &= - f''
        \end{aligned}
        \]
        注意到\(\frac{\delta \tilde{S}}{\delta f} = \frac{\delta S}{\delta f}\). 
    \end{enumerate}
\end{solution}
% updated by: AmillyW
% date: 2024/10/22

\problem{给定两个函数\(n(t)\)和\(a(t)\)的泛函\(S[n,a] = \int_{t_1}^{t_2} \dd t\,na^3\left(A(n) + 3 B(n) \frac{a'^2}{n^2 a^2}\right)\), 其中\(A, B\)是\(n(t)\)的任意函数. 求泛函\(S[n,a]\)取极值时, \(n(t)\)和\(a(t)\)的欧拉-拉格朗日方程.}
\begin{solution}
    \[
        \begin{aligned}
            \delta S & = \int \dd t \left(a^3\left(A(n) + 3B(n) \frac{a'^2}{n^2 a^2}\right) + n a^3 \left(\frac{\dd A}{\dd n} + 3\frac{\dd B}{\dd n}\frac{a'^2}{n^2 a^2} - \frac{3}{2}B(n)\frac{a'^2}{n^3 a^2}\right)\right) \delta n\\
            -\frac{\delta S}{\delta n} & = -a^3 A - 3B \frac{a a'^2}{n^2} - n a^3 \frac{\dd A}{\dd n} - 3n \frac{\dd B}{\dd n} \frac{a a'^2}{n^2} + \frac{3}{2}nB\frac{a a'^2}{n^3} = 0
        \end{aligned}
    \]
    \[
        \begin{aligned}
            \delta S & = \int \dd t \left(6 B \frac{a a'}{n} \delta a' + \left(3 n A a^2 + 3 B \frac{a'^2}{n}\right)\delta a\right) \\
            & \simeq \int \dd t \left(- \frac{\dd}{\dd t}\left(6 B \frac{a a'}{n}\right) + 3 n A a^2 + 3 B \frac{a'^2}{n}\right) \delta a \\
            - \frac{\delta S}{\delta a} & = \frac{\dd}{\dd t}\left(6 B \frac{a a'}{n}\right) - 3 n A a^2 - 3 B \frac{a'^2}{n} = 0
        \end{aligned}
    \]
\end{solution}
% updated by: AmillyW
% date: 2024/10/22

\problem{给定二元函数\(f(t,x)\)的泛函\(S[f]=\iint \dd t \dd x \frac12 \left[
    \left(\frac{\pp f(t,x)}{\pp t}\right)^2 - \left(\frac{\pp f(t,x)}{\pp x}\right)^2 -m^2f^2(t,x)
\right]\)，其中\(m\)是常数。求泛函\(S[f]\)取极值时\(f(t,x)\)的欧拉-拉格朗日方程。}
\begin{solution}
    泛函\(S[f]\)的Lagrange函数为\(L(t,x,f,f_t,f_x) = \frac12(f_t^2-f_x^2-m^2f^2)\)，则
    \[
    \begin{aligned}
        \delta S & = \iint \dd t \dd x \delta L \\
                 & \simeq \iint \dd t \dd x \left[
                    \frac{\pp L}{\pp f} - \frac{\pp}{\pp t}\left( \frac{\pp L}{\pp f_t} \right) - \frac{\pp}{\pp x}\left( \frac{\pp L}{\pp f_x} \right)
                    \right] \\
                 & = \iint \dd t \dd x  
                 (-m^2f - f_{tt} + f_{xx})
                 \delta f
    \end{aligned}
    \]
    取极值有\(-\frac{\delta S}{\delta f}=0\)，即\(f_{tt} - f_{xx} + -m^2f = 0\)
\end{solution}
% updated by: Phiyu
% date: 2024/10/25

\problem{考虑一条不可拉伸、质量均匀的柔软细绳，长为\(l\)，质量为\(m\)。细绳两端点悬挂于相同高度，水平距离为\(a\)(\(a<l\))。
    \begin{enumerate}[label=(\arabic*)]
        \item 选择合适的坐标，求细绳总的重力势能\(V\)作为细绳形状的泛函；
        \item 求细绳重力势能取极值时，细绳形状所满足的欧拉-拉格朗日方程。
    \end{enumerate}}
\begin{solution}
    \begin{enumerate}[label=(\arabic*)]
        \item 取细绳所在平面建立笛卡尔系，设悬点为\( \vec{x_1}=(0,0) \)，\( \vec{x_2}=(a,0) \)，
        竖直向下为\(y\)轴正方向，设细绳形状为\( y=y(x) \) ( \( 0 \leq x \leq a \) )，可知细绳线密度为\( \lambda = \frac{m}{l} \)，则
        \[
        \begin{aligned}
            V[y] &= \int -(\lambda \dd L) gy \\
                 &= -\frac{mg}{l} \int_0^a y\sqrt{1+y'^2} \dd x
        \end{aligned}
        \]
        \item 泛函\(V[y]\)的Lagrange函数为\( L(x,y,y')=-\frac{mg}{l}y\sqrt{1+y'^2} \)，重力势能取极值有
        \[
        \begin{aligned}
            -\frac{\delta S}{\delta y} &= \frac{\dd}{\dd x} \left( \frac{\pp L}{\pp y'} \right) - \frac{\pp L}{\pp y} \\
                                 &= -\frac{mg}{l} \left[  
                                 \frac{\dd}{\dd x} \left( \frac{yy'}{\sqrt{1+y'^2}} \right) - \sqrt{1+y'^2} 
                                 \right] \\
                                 &= -\frac{mg}{l} \left( 
                                 \frac{y'^2}{\sqrt{1+y'^2}} + \frac{yy''}{\sqrt{1+y'^2}} - \frac{yy'^2y''}{ (1+y'^2)^{3/2} } - \sqrt{1+y'^2} 
                                 \right) = 0
        \end{aligned}
        \]
        将最后一式化简得到：\( yy'' - y'^2 - 1 = 0 \) ，此即著名的悬链线满足的微分方程。
    \end{enumerate}
\end{solution}
% updated by: Moyufishy
% date: 2024/10/26

\problem{考虑3维欧氏空间中的任意2维曲面，取直角坐标，曲面方程为\( z=z(x,y) \)。曲面上任意两
    固定点，由曲面上的任一曲线连接。曲线方程为\( x=x(\lambda) \)，\( y=y(\lambda) \)，这里的
    \( \lambda \)是曲线的参数。
    \begin{enumerate}[label=(\arabic*)]
        \item 求曲线的长度\(S\)作为\( x(\lambda) \)和\( y(\lambda) \)的泛函\( S[x,y] \)；
        \item 求曲线长度\(S\)取极值时，\( x(\lambda) \)和\( y(\lambda) \)的欧拉-拉格朗日方程；
        \item 当曲面为以下情况时，求解\( x(\lambda) \)和\( y(\lambda) \)：
        \begin{enumerate}[label=(\arabic{enumi}.\arabic*)]
            \item 平面\( z = ax + by + c \) ( \(a\)，\(b\)，\(c\)为常数 )；
            \item 球面\( z = \sqrt{R^2 - x^2 - y^2} \) ( \(R\)为常数 )；
            \item 锥面\( z = H \left( 1-\frac{1}{R}\sqrt{x^2+y^2} \right) \) ( \(H\)，\(R\)为常数 )。
        \end{enumerate}
    \end{enumerate}}
\begin{solution}
    待施工
\end{solution}
% updated by: Moyufishy
% date: 2024/10/26

\problem{假设地球质量均匀分布，密度为\( \rho \)，半径为\(R\)。如图1.9所示，在地球内部钻一个光滑隧道，隧道处于过球心的大圆平面内。一个物体从\(A\)点静止滑入，则最终将由\(B\)点滑出。在轨道平面取极坐标\( \{r,\phi\} \)，求轨道形状\( r(\phi) \)满足什么方程时物体穿过隧道的时间最短。（提示：地球内部距离中心\(r\)处质量为\(m\)的粒子的牛顿引力势能为\( U(r)=\frac23 \pi Gm\rho r^2 \)，其中\(G\)为牛顿引力常数。） }
\begin{solution}
    考察\(A\)、\(B\)与地球球心形成的平面，以球心为极点，设极坐标下\(A\)点坐标为\( (R,\phi_1) \)，\(B\)点为\( (R,\phi_2) \)。

    对于一个从\(A\)静止释放的粒子，运动到\( r(\phi) \)处速度为
    \[
    \begin{equation}
        v(r) = \sqrt{\frac{2T}{m}} = \sqrt{\frac{2\Delta U(r)}{m}} = \sqrt{\frac43 \pi G \rho (R^2-r^2)}
    \end{equation}
    \]
    考虑到极坐标下线元为\( \dd s^2 = \dd r^2 + (r\dd \phi)^2 \)，则沿着轨道从\(A\)到\(B\)的运动总时间为\( r(\phi) \)的泛函，表达式为
    \[
    \begin{equation}
        T[r] = \int \frac{\dd s}{v}
             = \int_{\phi_1}^{\phi_2} \frac{ \sqrt{r'^2+r^2} }{ \sqrt{\frac43 \pi G \rho (R^2-r^2)} }\dd \phi
    \end{equation}
    \]
    该泛函的等效Lagrange函数为\( L(r,r')= \frac{r'^2+r^2}{R^2-r^2} \)，取极值时满足欧拉-拉格朗日方程：
    \[
    \begin{aligned}
        \frac{\dd}{\dd \phi} \left( \frac{\pp L}{\pp r'} \right) - \frac{\pp L}{\pp r}
        & = \frac{\dd}{\dd \phi} \left( \frac{r'}{L(R^2-r^2)} \right) - \frac{r(r'^2+R^2)}{L(R^2-r^2)^2} \\
        & = \frac{r''}{(r'^2+r^2)^{1/2}(R^2-r^2)^{1/2}} - 
            \frac{r'^2(r''+r)}{(r'^2+r^2)^{3/2}(R^2-r^2)^{1/2}} - 
            \frac{rR^2}{(r'^2+r^2)^{1/2}(R^2-r^2)^{1/2}} \\
        & = 0
    \end{aligned}
    \]
    最后一式整理可得\( r(R^2-r^2)r''+(r^2-2R^2)r'^2-R^2r^2 = 0 \)
\end{solution}
% updated by: Moyufishy
% date: 2024/10/26

\problem{数学上将面积取极值的曲面称作极小曲面。如图1.10所示，\( \{x,y\} \)-平面上给定的\(A\)点和\(B\)点之间有曲线\( y(x) \)，此曲线绕\(x\)轴旋转而成旋转曲面。
    \begin{enumerate}
        \item 求此旋转曲面面积取极小值时\( y(x) \)满足的微分方程；
        \item 求\( y(x) \)的解。
    \end{enumerate}
}
\begin{solution}
    待施工
\end{solution}
% updated by: Moyufishy
% date: 2024/10/26

\problem{并不是所有的微分方程都是欧拉-拉格朗日方程。
    \begin{enumerate}
        \item 证明\( f''(t)+2\lambda f'(t)+\omega^2f(t) = 0 \)（\( \lambda,\omega \)是常数）在\( \lambda \neq 0 \)时不是欧拉-拉格朗日方程；
        \item 引入新变量\( q = \me^{\lambda t}f \)，求\(q\)所满足的方程；
        \item 求\(q\)的方程作为欧拉-拉格朗日方程所对应的泛函\( \tilde{S}[q] \)。
    \end{enumerate}
}
\begin{solution}
    待施工
\end{solution}
% updated by: Moyufishy
% date: 2024/10/26
